# 03-æŸ¥æ‰¾ç‰¹å®šä¾èµ–ç¤ºä¾‹

è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ gobinaryparser åŒ…æŸ¥æ‰¾ Go äºŒè¿›åˆ¶æ–‡ä»¶ä¸­çš„ç‰¹å®šä¾èµ–ã€‚

## åŠŸèƒ½

- ç²¾ç¡®åŒ¹é…ï¼šä½¿ç”¨ `GetDependencyByPath` æ–¹æ³•æŸ¥æ‰¾å®Œå…¨åŒ¹é…çš„ä¾èµ–
- æ¨¡ç³ŠåŒ¹é…ï¼šä½¿ç”¨ `FilterDependencies` æ–¹æ³•å’Œ `strings.Contains` æŸ¥æ‰¾åŒ…å«ç‰¹å®šå­—ç¬¦ä¸²çš„ä¾èµ–
- ç‰ˆæœ¬åŒ¹é…ï¼šæŸ¥æ‰¾ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬ï¼ˆå¦‚æ‰€æœ‰ v1.x ç‰ˆæœ¬ï¼‰çš„ä¾èµ–

## ä½¿ç”¨æ–¹æ³•

```bash
go run main.go <ä¾èµ–åç§°> <GoäºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„>
```

ä¾‹å¦‚ï¼š

```bash
go run main.go cobra /usr/local/bin/kubectl
```

è¿™å°†æœç´¢ kubectl äºŒè¿›åˆ¶æ–‡ä»¶ä¸­åŒ…å« "cobra" çš„æ‰€æœ‰ä¾èµ–ã€‚

## è¾“å‡ºç¤ºä¾‹

```
ğŸ” åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­æŸ¥æ‰¾ä¾èµ–

æ–‡ä»¶: /usr/local/bin/kubectl
Goç‰ˆæœ¬: go1.18.2
æ€»ä¾èµ–æ•°é‡: 157

æ–¹æ³•1: ç²¾ç¡®åŒ¹é… "github.com/spf13/cobra"
âœ… æ‰¾åˆ°å®Œå…¨åŒ¹é…çš„ä¾èµ–: github.com/spf13/cobra@v1.4.0
   æ ¡éªŒå’Œ: h1:y+wJpx64xcgO1V+RcnwW0LEHxTKRi2ZDPSBjWnrg88=

æ–¹æ³•2: æ¨¡ç³ŠåŒ¹é…åŒ…å« "cobra" çš„ä¾èµ–
âœ… æ‰¾åˆ° 2 ä¸ªåŒ¹é…çš„ä¾èµ–:
1. github.com/russross/blackfriday/v2@v2.1.0
2. github.com/spf13/cobra@v1.4.0

æ–¹æ³•3: æŸ¥æ‰¾ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬çš„ä¾èµ–
âœ… æ‰¾åˆ° 47 ä¸ªä½¿ç”¨v1.xç‰ˆæœ¬çš„ä¾èµ–ï¼Œå‰5ä¸ª:
1. github.com/Azure/go-autorest/autorest/adal@v1.2.0
2. github.com/Azure/go-autorest/autorest/date@v1.3.0
3. github.com/Azure/go-autorest/logger@v1.0.3
4. github.com/Azure/go-autorest/tracing@v1.0.3
5. github.com/PuerkitoBio/purell@v1.1.1
...ä»¥åŠå…¶ä»– 42 ä¸ªä¾èµ–
```

## æŠ€æœ¯è¯´æ˜

è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº†æŸ¥æ‰¾ä¾èµ–çš„ä¸‰ç§ä¸åŒæ–¹æ³•ï¼š

1. **ç²¾ç¡®åŒ¹é…**ï¼šä½¿ç”¨ `BinaryInfo.GetDependencyByPath(path)` æ–¹æ³•æŸ¥æ‰¾å®Œå…¨åŒ¹é…è·¯å¾„çš„ä¾èµ–ã€‚
   è¿™å¯¹äºæ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†ç‰¹å®šä¾èµ–éå¸¸æœ‰ç”¨ã€‚

2. **æ¨¡ç³ŠåŒ¹é…**ï¼šä½¿ç”¨ `BinaryInfo.FilterDependencies()` æ–¹æ³•ç»“åˆ `strings.Contains()` æŸ¥æ‰¾
   è·¯å¾„ä¸­åŒ…å«ç‰¹å®šå­—ç¬¦ä¸²çš„æ‰€æœ‰ä¾èµ–ã€‚è¿™å¯¹äºæŸ¥æ‰¾æŸä¸ªç»„ç»‡æˆ–é¡¹ç›®çš„æ‰€æœ‰ç›¸å…³ä¾èµ–å¾ˆæœ‰ç”¨ã€‚

3. **ç‰ˆæœ¬åŒ¹é…**ï¼šä½¿ç”¨ `BinaryInfo.FilterDependencies()` æ–¹æ³•ç»“åˆ `strings.HasPrefix()` æŸ¥æ‰¾
   ä½¿ç”¨ç‰¹å®šç‰ˆæœ¬å‰ç¼€çš„æ‰€æœ‰ä¾èµ–ã€‚è¿™å¯¹äºå®¡è®¡ä½¿ç”¨ç‰¹å®šä¸»ç‰ˆæœ¬çš„ä¾èµ–æ•°é‡å¾ˆæœ‰ç”¨ã€‚ 